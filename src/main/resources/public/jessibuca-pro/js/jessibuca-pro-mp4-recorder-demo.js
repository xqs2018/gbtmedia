!function(r){"function"==typeof define&&define.amd?define(r):r()}((function(){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function t(r,e){return r(e={exports:{}},e.exports),e.exports}var n=Object.freeze({__proto__:null,commonjsGlobal:r,commonjsRequire:function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},unwrapExports:e,createCommonjsModule:t,getCjsExportFromNamespace:function(r){return r&&r.default||r}});function o(r,e){var t=a();return(o=function(r,e){return t[r-=349]})(r,e)}function a(){var r=["default","17564mDqBni","7812xyWcBG","exports","385781fybFGn","216zYdYGR","30qDtSZd","412822zoKHaT","375CWRtZn","231IGyruB","193298YOykrO","9178180veTWZP","135320dZQfOB","441PXWAyI"];return(a=function(){return r})()}!function(r,e){for(var t=o,n=r();;)try{if(636228===parseInt(t(350))/1+-parseInt(t(353))/2*(-parseInt(t(349))/3)+-parseInt(t(358))/4*(-parseInt(t(351))/5)+-parseInt(t(359))/6*(-parseInt(t(352))/7)+parseInt(t(355))/8*(-parseInt(t(356))/9)+-parseInt(t(354))/10+-parseInt(t(361))/11*(-parseInt(t(362))/12))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(a);var s=e(t((function(r){var e=o;r[e(360)]=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},r[e(360)].__esModule=!0,r[e(360)][e(357)]=r[e(360)]}))),i=c;!function(r,e){for(var t=c,n=r();;)try{if(859301===parseInt(t(259))/1+-parseInt(t(254))/2+-parseInt(t(267))/3+-parseInt(t(253))/4+parseInt(t(264))/5*(-parseInt(t(261))/6)+parseInt(t(256))/7+-parseInt(t(255))/8*(-parseInt(t(265))/9))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(p);var u=n[i(268)]((function(r){var e=i;function t(e){var n=c;return r[n(266)]=t=n(269)==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){var e=n;return r&&e(269)==typeof Symbol&&r.constructor===Symbol&&r!==Symbol[e(257)]?e(258):typeof r},r[n(266)][n(263)]=!0,r[n(266)][n(262)]=r[n(266)],t(e)}r[e(266)]=t,r[e(266)][e(263)]=!0,r.exports[e(262)]=r.exports}));function c(r,e){var t=p();return(c=function(r,e){return t[r-=253]})(r,e)}var f=n[i(260)](u);function p(){var r=["3676190xKtMfL","7920522SYwSyN","exports","3751920utVAJQ","createCommonjsModule","function","452356fdXRMq","61304AGRLfG","16QemtQr","7308924sHzdKP","prototype","symbol","919910NommMj","unwrapExports","12hyXsTq","default","__esModule"];return(p=function(){return r})()}var d=l;function v(){var r=["string","296235kyYISk","1922wLzSBT","1444254poSApS","19TuBnPc","exports","object","__esModule","@@toPrimitive must return a primitive value.","default","2084544BivNsU","toPrimitive","call","createCommonjsModule","2906055CInvhb","unwrapExports","245GFlDeM","3142740zcxufS","46212CrNEmz"];return(v=function(){return r})()}!function(r,e){for(var t=l,n=r();;)try{if(417106===-parseInt(t(194))/1*(-parseInt(t(192))/2)+parseInt(t(191))/3+parseInt(t(189))/4*(parseInt(t(187))/5)+parseInt(t(188))/6+-parseInt(t(193))/7+-parseInt(t(200))/8+-parseInt(t(185))/9)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(v);var h=n[d(184)]((function(r){var e=d,t=u[e(199)];r[e(195)]=function(r,n){var o=e;if(t(r)!==o(196)||null===r)return r;var a=r[Symbol[o(182)]];if(void 0!==a){var s=a[o(183)](r,n||o(199));if("object"!==t(s))return s;throw new TypeError(o(198))}return(n===o(190)?String:Number)(r)},r[e(195)][e(197)]=!0,r[e(195)].default=r[e(195)]}));function l(r,e){var t=v();return(l=function(r,e){return t[r-=182]})(r,e)}function I(){var r=["12vxpodM","exports","17106991BVvBYU","107513vkhPdR","1003526WzDOkO","default","24nDBlUn","48zptWZi","3294810cuhNoj","260844AXinzP","2cefWjs","3833757fMHzHr","7539930XSIQtp","symbol","378MKEAiv","__esModule"];return(I=function(){return r})()}function b(r,e){var t=I();return(b=function(r,e){return t[r-=146]})(r,e)}n[d(186)](h),function(r,e){for(var t=b,n=r();;)try{if(825236===parseInt(t(159))/1*(-parseInt(t(149))/2)+parseInt(t(148))/3*(parseInt(t(146))/4)+-parseInt(t(147))/5+parseInt(t(153))/6*(parseInt(t(158))/7)+-parseInt(t(161))/8*(-parseInt(t(150))/9)+parseInt(t(151))/10+-parseInt(t(157))/11*(parseInt(t(155))/12))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(I);var y=t((function(r){var e=b,t=u[e(160)];r[e(156)]=function(r){var n=e,o=h(r,"string");return t(o)===n(152)?o:String(o)},r.exports[e(154)]=!0,r.exports[e(160)]=r[e(156)]}));e(y);var m=k;function g(){var r=["prototype","writable","34137mmwQio","key","11UFwPHa","67461RfnNav","exports","4wePfss","228bKhTBy","length","defineProperty","3260qkPuFC","__esModule","718692AoLdCO","default","1894886BqwFWB","372046ftjDxa","1951314lmxpFQ","unwrapExports","5ccyYaS","6292096bafezh"];return(g=function(){return r})()}function k(r,e){var t=g();return(k=function(r,e){return t[r-=473]})(r,e)}!function(r,e){for(var t=k,n=r();;)try{if(982303===-parseInt(t(484))/1*(parseInt(t(475))/2)+-parseInt(t(473))/3*(-parseInt(t(476))/4)+-parseInt(t(487))/5*(-parseInt(t(485))/6)+-parseInt(t(483))/7+-parseInt(t(488))/8+-parseInt(t(491))/9*(-parseInt(t(479))/10)+parseInt(t(493))/11*(-parseInt(t(481))/12))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(g);var R=t((function(r){var e=k;function t(r,e){for(var t=k,n=0;n<e[t(477)];n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o[t(490)]=!0),Object[t(478)](r,y(o[t(492)]),o)}}r.exports=function(r,e,n){var o=k;return e&&t(r.prototype,e),n&&t(r,n),Object[o(478)](r,o(489),{writable:!1}),r},r[e(474)][e(480)]=!0,r[e(474)][e(482)]=r.exports})),w=n[m(486)](R);function E(){var r=["1050700RucxtX","default","7184604QrpusB","6400954mxDcgV","568083dQKjTD","10sPnBjF","createCommonjsModule","unwrapExports","5736996tBLaQY","4xIcLiV","39487382UTlPlQ","exports","8WwMqDz","10MJNjuI","141132dtiZgY"];return(E=function(){return r})()}var x=_;function _(r,e){var t=E();return(_=function(r,e){return t[r-=283]})(r,e)}!function(r,e){for(var t=_,n=r();;)try{if(659526===parseInt(t(296))/1+parseInt(t(290))/2*(parseInt(t(285))/3)+-parseInt(t(295))/4*(-parseInt(t(294))/5)+parseInt(t(283))/6+-parseInt(t(284))/7*(-parseInt(t(293))/8)+parseInt(t(289))/9+parseInt(t(286))/10*(-parseInt(t(291))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(E);var T=n[x(287)]((function(r){var e=x;r[e(292)]=function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r},r[e(292)].__esModule=!0,r.exports[e(297)]=r.exports})),M=n[x(288)](T);function A(r,e){var t=O();return(A=function(r,e){return t[r-=196]})(r,e)}!function(r,e){for(var t=A,n=r();;)try{if(653440===-parseInt(t(208))/1*(parseInt(t(210))/2)+parseInt(t(205))/3*(parseInt(t(212))/4)+-parseInt(t(200))/5+parseInt(t(196))/6+-parseInt(t(209))/7*(parseInt(t(204))/8)+parseInt(t(197))/9+parseInt(t(211))/10*(-parseInt(t(201))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(O);var j=t((function(r){var e=A;function t(e,n){var o=A;return r[o(199)]=t=Object[o(198)]?Object[o(198)][o(206)]():function(r,e){return r[o(202)]=e,r},r.exports[o(203)]=!0,r[o(199)][o(207)]=r[o(199)],t(e,n)}r.exports=t,r.exports[e(203)]=!0,r[e(199)].default=r[e(199)]}));function O(){var r=["exports","2068835WYCOBo","1768327SPEiVJ","__proto__","__esModule","8jxxFlq","274203RNpgmw","bind","default","12sLHLuE","6446062wqTkbz","149214HOyghz","10MtuJLG","52cTmqfP","4550292gaWuCD","9877671kIAzvP","setPrototypeOf"];return(O=function(){return r})()}e(j);var S=W;function W(r,e){var t=D();return(W=function(r,e){return t[r-=416]})(r,e)}function D(){var r=["60sjRUfz","create","function","2485UjVFCM","268198TxSGJV","9FTKWeU","default","unwrapExports","4182960rjTAkf","136OzyTIU","Super expression must either be null or a function","exports","203032sfizCE","1uZvTWr","3754025ldnWRo","58670wTdMBr","412197ecsAxJ","prototype"];return(D=function(){return r})()}!function(r,e){for(var t=W,n=r();;)try{if(326010===parseInt(t(419))/1*(-parseInt(t(428))/2)+-parseInt(t(422))/3+-parseInt(t(418))/4+parseInt(t(421))/5*(-parseInt(t(424))/6)+parseInt(t(427))/7*(parseInt(t(433))/8)+-parseInt(t(429))/9*(-parseInt(t(432))/10)+parseInt(t(420))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(D);var P=t((function(r){var e=W;r[e(417)]=function(r,e){var t=W;if(typeof e!==t(426)&&null!==e)throw new TypeError(t(416));r[t(423)]=Object[t(425)](e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,t(423),{writable:!1}),e&&j(r,e)},r[e(417)].__esModule=!0,r[e(417)][e(430)]=r[e(417)]})),F=n[S(431)](P),N=G;function B(){var r=["232109RSjLGU","1506092gzkkcC","18iejqVc","unwrapExports","483630wPKuZj","894bBwoDx","exports","__esModule","970ekYgTk","object","4924060TmdsvG","6597EZogyc","10828fsKuhb","1261448srdsXk"];return(B=function(){return r})()}function G(r,e){var t=B();return(G=function(r,e){return t[r-=422]})(r,e)}!function(r,e){for(var t=G,n=r();;)try{if(698491===-parseInt(t(428))/1+parseInt(t(433))/2*(parseInt(t(425))/3)+-parseInt(t(426))/4*(parseInt(t(422))/5)+parseInt(t(432))/6+parseInt(t(429))/7+-parseInt(t(427))/8*(parseInt(t(430))/9)+parseInt(t(424))/10)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(B);var J=t((function(r){var e=G,t=u.default;r[e(434)]=function(r,e){var n=G;if(e&&(t(e)===n(423)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return T(r)},r.exports[e(435)]=!0,r[e(434)].default=r[e(434)]})),L=n[N(431)](J);function C(r,e){var t=Z();return(C=function(r,e){return t[r-=317]})(r,e)}var U=C;!function(r,e){for(var t=C,n=r();;)try{if(443297===-parseInt(t(317))/1*(parseInt(t(322))/2)+parseInt(t(336))/3*(-parseInt(t(323))/4)+parseInt(t(325))/5*(parseInt(t(318))/6)+parseInt(t(330))/7+parseInt(t(329))/8+-parseInt(t(328))/9*(parseInt(t(333))/10)+parseInt(t(319))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(Z);var z=n[U(327)]((function(r){var e=U;function t(e){var n=C;return r[n(321)]=t=Object[n(332)]?Object[n(331)][n(335)]():function(r){return r[n(320)]||Object.getPrototypeOf(r)},r[n(321)][n(326)]=!0,r[n(321)][n(324)]=r[n(321)],t(e)}r[e(321)]=t,r[e(321)][e(326)]=!0,r[e(321)][e(324)]=r.exports})),Y=n[U(334)](z);function Z(){var r=["20efFPtk","__esModule","createCommonjsModule","927UksCRq","3752056GGDcYY","3786202ZBFgEU","getPrototypeOf","setPrototypeOf","35000wIDUxA","unwrapExports","bind","3tjhsLh","5291nLvDMC","968826uQeugT","5495996BROIUo","__proto__","exports","286IwOctr","2380012ZrCwSA","default"];return(Z=function(){return r})()}function V(r,e){var t=q();return(V=function(r,e){return t[r-=286]})(r,e)}function q(){var r=["128770fILzsZ","5692800oRCgiZ","129666yxbvbS","off","push","length","keys","17531778cOmlkZ","apply","once","2680980HevyRX","20IvYpFG","47pTWRHL","forEach","5234KJEmzf","6JZEVVp","491904JrUDFX","emit","45dCyFcM"];return(q=function(){return r})()}!function(r,e){for(var t=V,n=r();;)try{if(387548===parseInt(t(297))/1*(parseInt(t(299))/2)+-parseInt(t(287))/3*(parseInt(t(296))/4)+parseInt(t(295))/5*(-parseInt(t(300))/6)+parseInt(t(301))/7+-parseInt(t(286))/8+parseInt(t(303))/9*(parseInt(t(304))/10)+parseInt(t(292))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(q);var H=function(){var r=V;function e(){s(this,e)}return w(e,[{key:"on",value:function(r,e,t){var n=V,o=this.e||(this.e={});return(o[r]||(o[r]=[]))[n(289)]({fn:e,ctx:t}),this}},{key:r(294),value:function(r,e,t){var n=this;function o(){var a=V;n[a(288)](r,o);for(var s=arguments[a(290)],i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];e[a(293)](t,i)}return o._=e,this.on(r,o,t)}},{key:r(302),value:function(e){for(var t=r,n=((this.e||(this.e={}))[e]||[]).slice(),o=arguments[t(290)],a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];for(var i=0;i<n[t(290)];i+=1)n[i].fn[t(293)](n[i].ctx,a);return this}},{key:"off",value:function(e,t){var n=r,o=this.e||(this.e={});if(!e)return Object[n(291)](o)[n(298)]((function(r){delete o[r]})),void delete this.e;var a=o[e],s=[];if(a&&t)for(var i=0,u=a[n(290)];i<u;i+=1)a[i].fn!==t&&a[i].fn._!==t&&s[n(289)](a[i]);return s[n(290)]?o[e]=s:delete o[e],this}}]),e}(),Q=X;function X(r,e){var t=K();return(X=function(r,e){return t[r-=464]})(r,e)}function K(){var r=["1141536MhMnPX","11102058CdZbAV","4906UAhWJv","startRecordError","8472426WlQndv","recordTimestamp","382006WqNaem","init","344lcuCHc","stopRecord","8JruGAE","startRecordSuccess","stopRecordError","workerError","83110RdcpWE","recordingTimestamp","debug","warn","videoFrame","load","132104UEimGw","3906335WMLJWv","destroy","recordEnd",'"1.0.0"',"1JlAJUf","audioFrame"];return(K=function(){return r})()}!function(r,e){for(var t=X,n=r();;)try{if(939670===parseInt(t(485))/1*(-parseInt(t(466))/2)+-parseInt(t(487))/3+parseInt(t(470))/4*(-parseInt(t(481))/5)+parseInt(t(464))/6+-parseInt(t(480))/7*(parseInt(t(468))/8)+-parseInt(t(488))/9+-parseInt(t(474))/10*(-parseInt(t(489))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(K);var $={debug:Q(476),warn:Q(477)},rr={debug:!1,debugLevel:$[Q(477)],debugUuid:"",decoder:"jessibuca-pro-mp4-recorder-decoder.js"},er={init:Q(467),startRecord:"startRecord",stopRecord:Q(469),videoFrame:Q(478),audioFrame:Q(486),destroy:Q(482)},tr={init:Q(467),startRecordError:Q(490),startRecordSuccess:"startRecordSuccess",recordEnd:"recordEnd",stopRecordError:"stopRecordError",recordTimestamp:Q(465)},nr={load:Q(479),workerError:Q(473),startRecordSuccess:Q(471),startRecordError:Q(490),stopRecordError:Q(472),recordEnd:Q(483),recordingTimestamp:Q(475)},or=Q(484);function ar(r,e){var t=sr();return(ar=function(r,e){return t[r-=363]})(r,e)}function sr(){var r=["689266nuSRDK","true","object","48SjUgTH","9391445OFRxyt","parse","4592046kXSTOG","33804390DZBTKZ","299118JOuiEX","897040TJvRUe","90DhflWX","11WcHtCO","5zwsapY","941249SHSpIV","stringify"];return(sr=function(){return r})()}function ir(r){return null==r}function ur(){return function(r){var e=ar,t="";if(f(r)===e(375))try{t=JSON[e(372)](r),t=JSON[e(363)](t)}catch(e){t=r}else t=r;return t}(rr)}function cr(r){return!0!==r&&r!==ar(374)}function fr(){var r=["apply","7vRxmBq","1887414WTchNt","3332367gkYDcH","331405THxdcY","warn","debug","5998JuxDGO","650037EoulaN","76LlhcJI","[❌❌❌][wasmMp4Recorder][","error","[✅✅✅][wasmMp4Recorder][","334248DTkfWm","debugUuid","debugLevel","length","_opt","log","193216vjPCSE","JbPro","concat"];return(fr=function(){return r})()}function pr(r,e){var t=fr();return(pr=function(r,e){return t[r-=101]})(r,e)}!function(r,e){for(var t=ar,n=r();;)try{if(799509===parseInt(t(371))/1+parseInt(t(373))/2+-parseInt(t(366))/3*(-parseInt(t(376))/4)+parseInt(t(370))/5*(-parseInt(t(364))/6)+parseInt(t(377))/7+-parseInt(t(367))/8*(-parseInt(t(368))/9)+parseInt(t(365))/10*(-parseInt(t(369))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(sr),function(r,e){for(var t=pr,n=r();;)try{if(200815===-parseInt(t(101))/1*(parseInt(t(121))/2)+parseInt(t(122))/3+parseInt(t(111))/4+parseInt(t(118))/5+-parseInt(t(116))/6*(parseInt(t(115))/7)+parseInt(t(105))/8+parseInt(t(117))/9)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(fr);var dr=w((function r(e){var t=pr;s(this,r),this[t(110)]=function(r){var n=t;if(e[n(109)].debug&&e._opt.debugLevel==$[n(120)]){for(var o,a=e._opt.debugUuid?"["[n(113)](e[n(109)].debugUuid,"]"):"",s=arguments[n(108)],i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];(o=console)[n(110)][n(114)](o,["JbPro"[n(113)](a,n(104))[n(113)](r,"]")][n(113)](i))}},this[t(119)]=function(r){var n=t;if(e._opt[n(120)]&&(e[n(109)][n(107)]==$.debug||e[n(109)].debugLevel==$.warn)){for(var o,a=e[n(109)][n(106)]?"["[n(113)](e[n(109)][n(106)],"]"):"",s=arguments[n(108)],i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];(o=console)[n(110)][n(114)](o,[n(112)[n(113)](a,"[❗❗❗][wasmMp4Recorder][").concat(r,"]")][n(113)](i))}},this[t(103)]=function(r){for(var n,o=t,a=e[o(109)][o(106)]?"["[o(113)](e._opt[o(106)],"]"):"",s=arguments.length,i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];(n=console).error[o(114)](n,[o(112)[o(113)](a,o(102))[o(113)](r,"]")][o(113)](i))}}));function vr(r){var e=function(){var r=lr;if("undefined"==typeof Reflect||!Reflect[r(223)])return!1;if(Reflect.construct[r(225)])return!1;if(typeof Proxy===r(193))return!0;try{return Boolean.prototype[r(230)].call(Reflect[r(223)](Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var t,n=lr,o=Y(r);if(e){var a=Y(this)[n(216)];t=Reflect[n(223)](o,arguments,a)}else t=o[n(235)](this,arguments);return L(this,t)}}function hr(){var r=["function","debugError","off","msg","recordTimestamp","buffer","onmessageerror","9FNMbDW","stopRecord","call","debugLevel","emit","destroy","1709280fDyAAf","stopRecordError","startRecordError","recordingTimestamp","25583624uTRuyD","postMessage","sendVideoFrame","workerError","_opt","101527onDRkg","constructor","debugUuid","_initDecoderWorker","16qHXzIF","cmd","recordEnd","6083540ksThcF","construct","startRecord","sham","onerror","2nJZRUb","decoderWorker","sendAudioFrame","valueOf","debugLog","load","buildTime","1876641jLDsOS","apply","743806Ivlgbz","debug","3736uKkNvs","TAG_NAME","terminate","onmessageerror:","onmessage:","stringify","data","startRecordSuccess","init","445RRCPJt","mp4Recorder","audioFrame"];return(hr=function(){return r})()}function lr(r,e){var t=hr();return(lr=function(r,e){return t[r-=183]})(r,e)}!function(r,e){for(var t=lr,n=r();;)try{if(409834===parseInt(t(215))/1*(-parseInt(t(227))/2)+-parseInt(t(234))/3+parseInt(t(238))/4*(-parseInt(t(190))/5)+-parseInt(t(206))/6+parseInt(t(236))/7*(-parseInt(t(219))/8)+parseInt(t(200))/9*(-parseInt(t(222))/10)+parseInt(t(210))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(hr);var Ir=function(r){var e=lr;F(n,r);var t=vr(n);function n(r){var e,o=lr;s(this,n),(e=t[o(202)](this))[o(191)]=r,e[o(239)]="DecoderWorker";var a=r[o(214)].decoder;return e[o(228)]=new Worker(a),e[o(218)](),r[o(231)](e.TAG_NAME,o(189)),e}return w(n,[{key:e(205),value:function(){var r=e;this[r(195)](),this[r(228)]&&(this[r(228)][r(183)](),this.decoderWorker=null),this[r(191)].debugLog(this.TAG_NAME,r(205))}},{key:e(218),value:function(){var r=e,t=this;this.mp4Recorder[r(237)],this[r(228)][r(226)]=function(e){var n=r;t[n(191)][n(194)](t[n(239)],"onerror:",e),t[n(204)](nr[n(213)],e)},this[r(228)][r(199)]=function(e){var n=r;t[n(191)].debugError(t[n(239)],n(184),e)},this[r(228)].onmessage=function(e){var n=r,o=e[n(187)];switch(o[n(220)]){case tr[n(189)]:t[n(191)][n(231)](t[n(239)],n(185),tr[n(189)]),t[n(228)]&&t._initWorker(),t[n(204)](nr[n(232)]);break;case tr.startRecordError:t[n(204)](nr[n(208)]);break;case tr[n(188)]:t[n(204)](nr[n(188)]);break;case tr[n(207)]:t.emit(nr.stopRecordError);break;case tr[n(221)]:t[n(204)](nr[n(221)],o[n(187)]);break;case tr[n(197)]:t[n(204)](nr[n(209)],o[n(196)])}}}},{key:"_initWorker",value:function(){var r=e,t={debug:this[r(191)][r(214)][r(237)],debugLevel:this.mp4Recorder._opt[r(203)],debugUuid:this.mp4Recorder[r(214)][r(217)]};this[r(228)][r(211)]({cmd:er[r(189)],opt:JSON[r(186)](t)})}},{key:e(212),value:function(r,t,n,o){var a=e;this[a(228)][a(211)]({cmd:er.videoFrame,data:r,isIFrame:t,dts:n,pts:o},[r[a(198)]])}},{key:e(229),value:function(r,t){var n=e;this[n(228)][n(211)]({cmd:er[n(192)],data:r,ts:t},[r[n(198)]])}},{key:e(224),value:function(r){var t=e;this[t(228)].postMessage({cmd:er.startRecord,streamInfo:r,buildTime:this[t(191)][t(233)]})}},{key:"stopRecord",value:function(){var r=e;this[r(228)][r(211)]({cmd:er[r(201)]})}}]),n}(H),br=gr;function yr(r){var e=function(){var r=gr;if("undefined"==typeof Reflect||!Reflect[r(545)])return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy===r(503))return!0;try{return Boolean[r(535)][r(532)][r(568)](Reflect[r(545)](Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var t,n=gr,o=Y(r);if(e){var a=Y(this).constructor;t=Reflect[n(545)](o,arguments,a)}else t=o[n(512)](this,arguments);return L(this,t)}}function mr(){var r=["keys","type","TAG_NAME","548923oBlbmn","emit","video width can not be undefined"," and is Trial Version[试用版本]","_opt","stopRecordError","construct","video type can not be undefined","originalOptions","Recorder","sampleRate","concat","buildTime","log","now","isRecording","2473832WbISLQ","audio channels can not be undefined","debug","_reset","channels","startRecord","28RBdUkB","30894aOVmYX","stringify","init","audio extraData can not be undefined","debugLog","debugWarn","call","10660vjkNQQ","1576770xXWhmW","height","isRecording is false","video extraData can not be undefined","debugError","video height can not be undefined","audio depth can not be undefined","sendAudioFrame","workerError","129960mFrrWg","function","recordEnd","7587CCBVZm","worker","startTimestamp","warn","JessibucaProMp4Recorder","error","video and audio can not be false at the same time","apply","length","audio","load","546osYyAr","video","stopRecord","startRecordError","43560UNEYcu","_destroyWorker",'JbProMp4Recorder option "',"startRecordSuccess","extraData",'" can not be undefined',"video/mp4","JbPro wasm mp4 recorder version is ","_startRecord","destroy","once","audio type can not be undefined","valueOf","recordingTimestamp","forEach","prototype"];return(mr=function(){return r})()}function gr(r,e){var t=mr();return(gr=function(r,e){return t[r-=499]})(r,e)}!function(r,e){for(var t=gr,n=r();;)try{if(325219===parseInt(t(539))/1+parseInt(t(561))/2*(parseInt(t(562))/3)+parseInt(t(555))/4+parseInt(t(570))/5+parseInt(t(502))/6+-parseInt(t(516))/7*(parseInt(t(520))/8)+-parseInt(t(505))/9*(parseInt(t(569))/10))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(mr);var kr=function(r){var e=gr;F(n,r);var t=yr(n);function n(){var r,e=gr,o=arguments[e(513)]>0&&void 0!==arguments[0]?arguments[0]:{};s(this,n),(r=t.call(this))[e(543)]={},Object[e(536)](o)[e(534)]((function(r){var t=e;if(void 0===o[r])throw new Error(t(522)[t(550)](r,t(525)))})),r[e(547)]=o;var a=ur(),i=Object.assign({},a,o);return r[e(543)]=i,r[e(554)]=!1,r.buildTime=i.name+"-"+i.buildTime,r.debug=new dr(M(r)),r.worker=null,r.startTimestamp=null,r[e(538)]=e(548),r.debugLog(r[e(538)],e(564),JSON[e(563)](r[e(543)])),console[e(552)](e(527)[e(550)](o[e(551)],":")[e(550)](or,e(542))),r}return w(n,[{key:e(529),value:function(){var r=e;this._reset(),this[r(521)]()}},{key:e(558),value:function(){var r=e;this.isRecording=!1,this[r(507)]=null}},{key:"_destroyWorker",value:function(){var r=e;this[r(506)]&&(this[r(506)].destroy(),this.worker=null)}},{key:e(560),value:function(){var r=e,t=this,n=arguments[r(513)]>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,o){var a=r;t[a(566)](t[a(538)],a(560),JSON[a(563)](n));var s=!!n[a(514)],i=!!n.video;if(cr(i)&&cr(s))return t[a(574)](t[a(538)],a(511)),void o(a(511));if(s){if(ir(n[a(514)][a(537)]))return t[a(574)](t.TAG_NAME,"audio type can not be undefined"),void o(a(531));if(ir(n[a(514)][a(524)]))return t[a(574)](t.TAG_NAME,"audio extraData can not be undefined"),void o(a(565));if(ir(n.audio[a(549)]))return t.debugError(t[a(538)],a(565)),void o(a(565));if(ir(n[a(514)][a(559)]))return t[a(574)](t[a(538)],"audio channels can not be undefined"),void o(a(556));if(ir(n[a(514)].depth))return t[a(574)](t[a(538)],a(499)),void o(a(499))}if(i){if(ir(n[a(517)][a(537)]))return t.debugError(t.TAG_NAME,a(546)),void o(a(546));if(ir(n[a(517)].extraData))return t[a(574)](t.TAG_NAME,"video extraData can not be undefined"),void o(a(573));if(ir(n.video.width))return t[a(574)](t.TAG_NAME,a(541)),void o(a(541));if(ir(n.video[a(571)]))return t.debugError(t[a(538)],a(575)),void o(a(575))}t.worker?t[a(528)](n,e,o):(t[a(506)]=new Ir(t),t[a(506)][a(530)](nr[a(515)],(function(){var r=a;t[r(528)](n,e,o),t[r(507)]=Date[r(553)]()})),t[a(506)][a(530)](nr[a(501)],(function(r){o(r)})),t[a(506)].on(nr[a(533)],(function(r){var e=a;t[e(540)](nr[e(533)],r)})))}))}},{key:"_startRecord",value:function(){var r=e,t=this,n=arguments[r(513)]>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[r(513)]>1?arguments[1]:void 0,a=arguments[r(513)]>2?arguments[2]:void 0;this[r(506)][r(560)](n),this.worker[r(530)](nr[r(519)],(function(e){var n=r;t[n(574)](t.TAG_NAME,n(519),e),a(e)})),this[r(506)].once(nr.startRecordSuccess,(function(){var e=r;t[e(554)]=!0,t[e(566)](t[e(538)],e(523)),o()}))}},{key:e(518),value:function(){var r=this;return new Promise((function(e,t){var n=gr;r.debugLog(r[n(538)],"stopRecord"),cr(r[n(554)])&&(r[n(521)](),r[n(574)](r[n(538)],n(572)),t("isRecording is false")),r.isRecording=!1,r[n(506)][n(518)](),r[n(506)][n(530)](nr.stopRecordError,(function(e){var o=n;r[o(521)](),r[o(574)](r[o(538)],o(544),e),t(e)})),r[n(506)][n(530)](nr.recordEnd,(function(t){var o=n;r[o(521)](),r.debugLog(r.TAG_NAME,o(504));var a=new Blob([t.buffer],{type:o(526)});e(a)}))}))}},{key:"sendVideoFrame",value:function(r,t,n,o){var a=e;if(this[a(554)]&&this[a(506)]){if(Date[a(553)]()-this[a(507)]>6e5)return;var s=n+o;this[a(506)].sendVideoFrame(r,t,n,s)}}},{key:e(500),value:function(r,t){var n=e;if(this[n(554)]&&this[n(506)]){if(Date[n(553)]()-this.startTimestamp>6e5)return;this.worker[n(500)](r,t)}}},{key:e(566),value:function(r){var t=e;if(this[t(543)][t(557)]&&this[t(557)]){for(var n,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(n=this[t(557)])[t(552)].apply(n,[r].concat(a))}}},{key:e(567),value:function(r){var t=e;if(this[t(543)].debug&&this[t(557)]){for(var n,o=arguments[t(513)],a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(n=this[t(557)])[t(508)][t(512)](n,[r][t(550)](a))}}},{key:e(574),value:function(r){var t=e;if(this[t(557)]){for(var n,o=arguments[t(513)],a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(n=this.debug)[t(510)][t(512)](n,[r].concat(a))}}}]),n}(H);window[br(509)]=kr}));
