import{_ as h,r as n,D as y,l as m,z as b,w as i,e as s,E as _,h as x,t as g,f as k,o as B,n as w}from"./index-BYlyECpH.js";const U=["href"],C=["href"],S={__name:"FlvPlayerModal",props:{flvUrl:{type:String,required:!0},visible:{type:Boolean,default:!1},hasAudio:{type:Boolean,default:!1}},emits:["cancel"],setup(l,{expose:c,emit:u}){const a=l,d=u,o=n(null),e=n(null),f=()=>{e.value||(e.value=new Jessibuca({container:o.value,videoBuffer:.2,isResize:!0,text:"",loadingText:"加载中",decoder:"/jessibuca/decoder.js",hasAudio:a.hasAudio,debug:!1,showBandwidth:!0,operateBtns:{fullscreen:!0,screenshot:!0,play:!0,audio:a.hasAudio},vod:!0,forceNoOffscreen:!0,isNotMute:a.hasAudio}),e.value.play(a.flvUrl))};c({playbackSpeed:t=>{console.log("playbackSpeed:",t)}});const r=()=>{e.value&&(e.value.destroy(),e.value=null)},p=()=>{d("cancel")};return y(()=>a.visible,t=>{t?w(()=>{f()}):r()}),m(()=>{r()}),(t,P)=>{const v=k("a-modal");return B(),b(v,{visible:l.visible,onCancel:p,footer:null,width:"780px"},{title:i(()=>[s("span",null,[x(" FLV视频播放器 "+g(l.flvUrl)+" ",1),s("a",{href:"/jessibuca/demo.html?flvUrl="+l.flvUrl,style:{"margin-left":"10px"},target:"_blank"},"标准版本",8,U),s("a",{href:"/jessibuca-pro/demo.html?flvUrl="+l.flvUrl,style:{"margin-left":"10px"},target:"_blank"},"Pro版本",8,C)])]),default:i(()=>[s("div",{ref_key:"playerContainer",ref:o,style:{width:"100%",height:"450px"}},null,512),_(t.$slots,"default",{},void 0,!0)]),_:3},8,["visible"])}}},F=h(S,[["__scopeId","data-v-c8d52c4b"]]);export{F};
